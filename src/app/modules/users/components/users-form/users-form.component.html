<mat-card class="mat-elevation-z8" *ngIf="!data">
  <mat-card-title>Novo usuário</mat-card-title>
  <mat-card-content>
    <form [formGroup]="newUserForm" (ngSubmit)="addUser()">
      <mat-form-field>
        <mat-label for="name">Nome</mat-label>
        <input matInput type="text" name="name" id="name" formControlName="name" required >
        @if (newUserForm.get('name')?.hasError('required')) {
          <mat-error>O campo nome é obrigatório</mat-error>
        } @else {
          <mat-error>Nome deve conter pelo menos 3 caracteres</mat-error>
        }
      </mat-form-field>

      <mat-form-field>
        <mat-label for="email">E-mail</mat-label>
        <input matInput type="email" id="email" name="email" placeholder="exemple@exemple.com" formControlName="email" required>
        @if (newUserForm.get('email')?.hasError('required')) {
          <mat-error>O campo email é obrigatório</mat-error>
        } @else {
          <mat-error>O campo email é inválido</mat-error>
        }
      </mat-form-field>

      <mat-form-field>
        <mat-label for="password">Senha</mat-label>
        <input matInput type="password" id="password" name="password" formControlName="password" required>
        @if (newUserForm.get('password')?.hasError('required')) {
          <mat-error>Senha é obrigatória</mat-error>
        } @else {
          <mat-error>Senha deve conter pelo menos 6 caracteres</mat-error>
        }
      </mat-form-field>

      <mat-form-field>
        <mat-label for="role">Perfil</mat-label>
        <mat-select formControlName="role">
          <mat-option value="ADMIN">Administrador</mat-option>
          <mat-option value="USER">Usuário</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-card-actions>
        <button mat-button color="warn" mat-dialog-close>Cancelar</button>
        <button mat-raised-button color="primary" type="submit">Salvar</button>
      </mat-card-actions>
    </form>
  </mat-card-content>
</mat-card>

  <mat-card class="mat-elevation-z8" *ngIf="data">
    <mat-card-title>Editar perfil de usuário</mat-card-title>
    <mat-card-content>
      <form [formGroup]="editUserForm" (ngSubmit)="editUser()">
        <mat-form-field>
          <mat-label for="role">Perfil</mat-label>
          <mat-select formControlName="role">
            <mat-option value="ADMIN">Administrador</mat-option>
            <mat-option value="USER">Colaborador</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-card-actions>
          <button mat-button color="warn" mat-dialog-close>Cancelar</button>
          <button mat-raised-button color="primary" type="submit">Salvar</button>
        </mat-card-actions>
      </form>
    </mat-card-content>
  </mat-card>
